<template>
    <lightning-card>
        <lightning-layout multiple-rows="true">
            <lightning-layout-item size="12">
                <lightning-tabset variant="scoped" active-tab-value={selectedTabValue}>
                    <template for:each={lwcRecords} for:item="lwcrecord">
                        <lightning-tab key={lwcrecord.id} label={lwcrecord.fileName} value={lwcrecord.id} onactive={tabChangeHandler}>
                            <lightning-button-group>
                                <template if:true={lwcrecord.isSaved}>
                                    <lightning-button label="Edit" name={lwcrecord.id} icon-name="utility:edit" onclick={editCompClick}></lightning-button>
                                </template>
                                <template if:false={lwcrecord.isSaved}>
                                    <lightning-button label="Save" name={lwcrecord.id} icon-name="utility:save" onclick={saveCompClick}></lightning-button>
                                    <lightning-button label="Save All" name={lwcrecord.id} icon-name="utility:save" onclick={saveAllCompClick}></lightning-button>
                                    <lightning-button label="Cancel" name={lwcrecord.id} icon-name="utility:close" onclick={cancelCompClick}></lightning-button>
                                    <lightning-button label="Cancel All" name={lwcrecord.id} icon-name="utility:close" onclick={cancelAllCompClick}></lightning-button>
                                </template>
                                <lightning-button label="Delete File" name={lwcrecord.id} icon-name="utility:delete" onclick={deleteFileCompClick}></lightning-button>
                                <lightning-button label="Delete Component" name={lwcrecord.id} icon-name="utility:delete" onclick={deleteCompClick}></lightning-button>
                                <lightning-button label="Add New File" name={lwcrecord.id} icon-name="utility:file" onclick={addNewFileClick}></lightning-button>
                                <lightning-button label="Preview" name={lwcrecord.id} icon-name="utility:preview" onclick={previewClick}></lightning-button>
                            </lightning-button-group>
                            <template if:true={lwcrecord.isSaved}>
                                <lightning-textarea name={lwcrecord.id} disabled value={lwcrecord.source} ></lightning-textarea>
                            </template>
                            <template if:false={lwcrecord.isSaved}>
                                <lightning-textarea name={lwcrecord.id} value={lwcrecord.source} onchange={codeChangeHandler}></lightning-textarea>
                            </template>
                        </lightning-tab>
                    </template>
                </lightning-tabset>
            </lightning-layout-item>
            <!--<template for:each={lwcRecords} for:item="lwcrecord"> 
                <lightning-layout-item key={lwcrecord.id} flexibility="auto" padding="around-small">
                    <span class="slds-badge slds-badge_lightest">
                        <span class="slds-badge__icon slds-badge__icon_left">
                            <span class="slds-icon_container slds-icon-utility-apex" title="Description of icon when needed">
                                <svg class="slds-icon slds-icon-text-error slds-icon_xx-small" aria-hidden="true">
                                <use xlink:href="/_slds/icons/standard-sprite/svg/symbols.svg?cache=9.31.2-1#apex"></use>
                                </svg>
                            </span>
                        </span>{lwcrecord.filePath}
                    </span>
                    <lightning-textarea name="input5" disabled value={lwcrecord.source} ></lightning-textarea>
                </lightning-layout-item>
            </template>-->
        </lightning-layout>
    </lightning-card>
</template>